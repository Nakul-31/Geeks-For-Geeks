class Solution:
    def largestSwap(self, s):
        n = len(s)
        arr = list(s)

        # Record the last position of each digit
        last_index = {int(ch): i for i, ch in enumerate(arr)}

        # Traverse string
        for i, ch in enumerate(arr):
            curr_digit = int(cha)
            # Look for a bigger digit to swap
            for d in range(9, curr_digit, -1):
                if d in last_index and last_index[d] > i:
                    # Swap and return
                    j = last_index[d]
                    arr[i], arr[j] = arr[j], arr[i]
                    return "".join(arr)

        return s
